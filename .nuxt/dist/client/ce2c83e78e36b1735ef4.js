(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1287:function(t,e,n){var content=n(1288);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("698b766a",content,!0,{sourceMap:!1})},1288:function(t,e,n){(e=n(27)(!1)).push([t.i,".article-content,.article-edit .tui-editor-contents,.profile-container,.profile-settings .tui-editor-contents{font-size:16px;line-height:1.5;word-wrap:break-word}.article-content *,.article-edit .tui-editor-contents *,.profile-container *,.profile-settings .tui-editor-contents *{box-sizing:border-box}.article-content>:first-child,.article-edit .tui-editor-contents>:first-child,.profile-container>:first-child,.profile-settings .tui-editor-contents>:first-child{margin-top:0}.article-content h1,.article-content h2,.article-content h3,.article-content h4,.article-content h5,.article-content h6,.article-edit .tui-editor-contents h1,.article-edit .tui-editor-contents h2,.article-edit .tui-editor-contents h3,.article-edit .tui-editor-contents h4,.article-edit .tui-editor-contents h5,.article-edit .tui-editor-contents h6,.profile-container h1,.profile-container h2,.profile-container h3,.profile-container h4,.profile-container h5,.profile-container h6,.profile-settings .tui-editor-contents h1,.profile-settings .tui-editor-contents h2,.profile-settings .tui-editor-contents h3,.profile-settings .tui-editor-contents h4,.profile-settings .tui-editor-contents h5,.profile-settings .tui-editor-contents h6{position:relative;margin-top:24px;margin-bottom:16px;font-weight:500;line-height:1.25}.article-content h1:hover .anchor,.article-content h2:hover .anchor,.article-content h3:hover .anchor,.article-content h4:hover .anchor,.article-content h5:hover .anchor,.article-content h6:hover .anchor,.article-edit .tui-editor-contents h1:hover .anchor,.article-edit .tui-editor-contents h2:hover .anchor,.article-edit .tui-editor-contents h3:hover .anchor,.article-edit .tui-editor-contents h4:hover .anchor,.article-edit .tui-editor-contents h5:hover .anchor,.article-edit .tui-editor-contents h6:hover .anchor,.profile-container h1:hover .anchor,.profile-container h2:hover .anchor,.profile-container h3:hover .anchor,.profile-container h4:hover .anchor,.profile-container h5:hover .anchor,.profile-container h6:hover .anchor,.profile-settings .tui-editor-contents h1:hover .anchor,.profile-settings .tui-editor-contents h2:hover .anchor,.profile-settings .tui-editor-contents h3:hover .anchor,.profile-settings .tui-editor-contents h4:hover .anchor,.profile-settings .tui-editor-contents h5:hover .anchor,.profile-settings .tui-editor-contents h6:hover .anchor{opacity:1}.article-content h1,.article-content h2,.article-edit .tui-editor-contents h1,.article-edit .tui-editor-contents h2,.profile-container h1,.profile-container h2,.profile-settings .tui-editor-contents h1,.profile-settings .tui-editor-contents h2{padding-bottom:.3em}.article-content h1,.article-edit .tui-editor-contents h1,.profile-container h1,.profile-settings .tui-editor-contents h1{font-size:2em;border-bottom:3px double rgba(0,0,0,.1)}.article-content h2,.article-edit .tui-editor-contents h2,.profile-container h2,.profile-settings .tui-editor-contents h2{font-size:1.75em;border-bottom:1px double rgba(0,0,0,.1)}.article-content h3,.article-edit .tui-editor-contents h3,.profile-container h3,.profile-settings .tui-editor-contents h3{font-size:1.5rem}.article-content h4,.article-edit .tui-editor-contents h4,.profile-container h4,.profile-settings .tui-editor-contents h4{font-size:1.25em}.article-content h5,.article-content h6,.article-edit .tui-editor-contents h5,.article-edit .tui-editor-contents h6,.profile-container h5,.profile-container h6,.profile-settings .tui-editor-contents h5,.profile-settings .tui-editor-contents h6{font-size:1em}.article-content .anchor,.article-edit .tui-editor-contents .anchor,.profile-container .anchor,.profile-settings .tui-editor-contents .anchor{position:absolute;display:-webkit-box;display:flex;height:100%;-webkit-box-align:center;align-items:center;left:-20px;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.article-content h1 .anchor,.article-content h2 .anchor,.article-edit .tui-editor-contents h1 .anchor,.article-edit .tui-editor-contents h2 .anchor,.profile-container h1 .anchor,.profile-container h2 .anchor,.profile-settings .tui-editor-contents h1 .anchor,.profile-settings .tui-editor-contents h2 .anchor{padding-bottom:8px}.article-content blockquote,.article-edit .tui-editor-contents blockquote,.profile-container blockquote,.profile-settings .tui-editor-contents blockquote{padding-left:1rem;border-left:.25rem solid #e9ecef}.article-content ol,.article-content ul,.article-edit .tui-editor-contents ol,.article-edit .tui-editor-contents ul,.profile-container ol,.profile-container ul,.profile-settings .tui-editor-contents ol,.profile-settings .tui-editor-contents ul{position:relative;padding-left:20px;margin:6px 0 10px}.article-content ol,.article-edit .tui-editor-contents ol,.profile-container ol,.profile-settings .tui-editor-contents ol{list-style-type:decimal}.article-content ul,.article-edit .tui-editor-contents ul,.profile-container ul,.profile-settings .tui-editor-contents ul{list-style-type:disc}.article-content ul.contains-task-list,.article-edit .tui-editor-contents ul.contains-task-list,.profile-container ul.contains-task-list,.profile-settings .tui-editor-contents ul.contains-task-list{list-style:none;padding-left:0}.article-content ul.contains-task-list input,.article-edit .tui-editor-contents ul.contains-task-list input,.profile-container ul.contains-task-list input,.profile-settings .tui-editor-contents ul.contains-task-list input{position:relative;top:-2px}.article-content table,.article-edit .tui-editor-contents table,.profile-container table,.profile-settings .tui-editor-contents table{margin:2px 0 14px;color:#555;width:100%;border-collapse:collapse;overflow:auto}.article-content table td,.article-content table th,.article-edit .tui-editor-contents table td,.article-edit .tui-editor-contents table th,.profile-container table td,.profile-container table th,.profile-settings .tui-editor-contents table td,.profile-settings .tui-editor-contents table th{height:32px;padding:8px 14px;border:1px solid #dfe2e5}.article-content table th,.article-edit .tui-editor-contents table th,.profile-container table th,.profile-settings .tui-editor-contents table th{font-weight:500;color:#555;background:#f6f8fa}.article-content pre,.article-edit .tui-editor-contents pre,.profile-container pre,.profile-settings .tui-editor-contents pre{padding:0;border:0}.article-content pre.hljs,.article-edit .tui-editor-contents pre.hljs,.profile-container pre.hljs,.profile-settings .tui-editor-contents pre.hljs{padding:12px 16px;margin:0;border-radius:8px;background:#f6f8fa;border:1px solid #eee}.article-content pre code,.article-edit .tui-editor-contents pre code,.profile-container pre code,.profile-settings .tui-editor-contents pre code{background-color:inherit;color:inherit;padding:0;margin:0}.article-content pre svg,.article-edit .tui-editor-contents pre svg,.profile-container pre svg,.profile-settings .tui-editor-contents pre svg{margin-right:3px}.article-content code,.article-edit .tui-editor-contents code,.profile-container code,.profile-settings .tui-editor-contents code{background-color:#f6f8fa;color:#f56565;padding:4px;margin:0 1px;border-radius:4px;font-size:.875em}.article-content code,.article-content pre,.article-edit .tui-editor-contents code,.article-edit .tui-editor-contents pre,.profile-container code,.profile-container pre,.profile-settings .tui-editor-contents code,.profile-settings .tui-editor-contents pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace}.article-content pre.custom,.article-edit .tui-editor-contents pre.custom,.profile-container pre.custom,.profile-settings .tui-editor-contents pre.custom{background:#fff;border:1px dashed #ddd}.article-content pre.info,.article-edit .tui-editor-contents pre.info,.profile-container pre.info,.profile-settings .tui-editor-contents pre.info{color:#004085;background-color:#cce5ff;border-color:#b8daff}.article-content pre.alert,.article-edit .tui-editor-contents pre.alert,.profile-container pre.alert,.profile-settings .tui-editor-contents pre.alert{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.article-content .pre-header,.article-edit .tui-editor-contents .pre-header,.profile-container .pre-header,.profile-settings .tui-editor-contents .pre-header{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between;margin-bottom:10px;font-size:.875em}.article-content pre.custom .pre-header,.article-edit .tui-editor-contents pre.custom .pre-header,.profile-container pre.custom .pre-header,.profile-settings .tui-editor-contents pre.custom .pre-header{color:#888;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.article-content .pre-header-left div,.article-edit .tui-editor-contents .pre-header-left div,.profile-container .pre-header-left div,.profile-settings .tui-editor-contents .pre-header-left div{width:12px;height:12px;border-radius:50%;margin-right:8px;display:inline-block}.article-content .pre-header-left div:first-of-type,.article-edit .tui-editor-contents .pre-header-left div:first-of-type,.profile-container .pre-header-left div:first-of-type,.profile-settings .tui-editor-contents .pre-header-left div:first-of-type{background:#ff5f56}.article-content .pre-header-left div:nth-of-type(2),.article-edit .tui-editor-contents .pre-header-left div:nth-of-type(2),.profile-container .pre-header-left div:nth-of-type(2),.profile-settings .tui-editor-contents .pre-header-left div:nth-of-type(2){background:#ffbd2e}.article-content .pre-header-left div:nth-of-type(3),.article-edit .tui-editor-contents .pre-header-left div:nth-of-type(3),.profile-container .pre-header-left div:nth-of-type(3),.profile-settings .tui-editor-contents .pre-header-left div:nth-of-type(3){background:#27c93f}.article-content .pre-header-right,.article-edit .tui-editor-contents .pre-header-right,.profile-container .pre-header-right,.profile-settings .tui-editor-contents .pre-header-right{font-size:12px;color:#777;padding-top:1px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.article-content pre.hljs{margin-bottom:16px}.article-content img{cursor:pointer}",""]),t.exports=e},1289:function(t,e,n){var content=n(1326);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("4f0b11c9",content,!0,{sourceMap:!1})},1325:function(t,e,n){"use strict";var o=n(1289);n.n(o).a},1326:function(t,e,n){(e=n(27)(!1)).push([t.i,".pop-article-title[data-v-330460ed]{display:inline-block;overflow:hidden;text-overflow:ellipsis;word-break:break-all;white-space:nowrap;max-width:100%;color:#444;line-height:30px}.pop-article-title[data-v-330460ed]:hover{color:#2d8cf0}",""]),t.exports=e},1329:function(t,e,n){"use strict";var o=n(7),r=(n(1311),n(1312)),c=n.n(r),l=(n(1287),o.default.extend({props:{html:{type:String,default:""}},mounted:function(){this.$nextTick((function(){new c.a(document.querySelector(".article-content"),{title:!1,zIndex:1e4})}))}})),d=n(19),component=Object(d.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"article-content",domProps:{innerHTML:this._s(this.html)}})}),[],!1,null,null,null);e.a=component.exports},1330:function(t,e,n){"use strict";n(54);var o=n(18),r=n(7).default.extend({data:function(){return{list:[],spinning:!1}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,code,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.spinning=!0,e.next=3,t.$axios.$get("/api/popArticles");case 3:n=e.sent,code=n.code,data=n.data,1===code&&(t.list=data.articles),t.spinning=!1;case 8:case"end":return e.stop()}}),e)})))()},methods:{articleUrl:function(t){return t.isLocal?"/blog/".concat(t.category.alias,"/").concat(t.alias):t.url}}}),c=(n(1325),n(19)),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"widget-container"},[n("div",{staticClass:"widget-header"},[t._v("\n    热门文章\n  ")]),t._v(" "),n("div",{staticClass:"widget-body"},[n("a-spin",{attrs:{spinning:t.spinning}}),t._v(" "),t.spinning?t._e():[t.list.length?n("ul",t._l(t.list,(function(e,o){return n("li",{key:o},[n("nuxt-link",{staticClass:"pop-article-title",attrs:{to:t.articleUrl(e),title:e.title}},[t._v("\n            "+t._s(e.title)+"\n          ")])],1)})),0):n("div",{staticClass:"no-data"},[n("a-empty",[n("span",{attrs:{slot:"description"},slot:"description"},[t._v("暂无内容")])])],1)]],2)])}),[],!1,null,"330460ed",null);e.a=component.exports},1403:function(t,e,n){var content=n(1899);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("e91e6850",content,!0,{sourceMap:!1})},1898:function(t,e,n){"use strict";var o=n(1403);n.n(o).a},1899:function(t,e,n){(e=n(27)(!1)).push([t.i,".post-detail-wrap[data-v-1f22748a]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;margin-top:30px}.left-wrap[data-v-1f22748a]{position:relative;max-width:792px}.content-wrap[data-v-1f22748a]{background:#fff;border-radius:5px;padding:30px;min-height:50vh;font-size:16px}.article-title[data-v-1f22748a]{margin:40px 0 100px;text-align:center}.article-title span[data-v-1f22748a]{color:#777}.article-title h1[data-v-1f22748a]{font-size:2em;font-weight:500}.article-content[data-v-1f22748a]{min-height:60vh}.side-wrap[data-v-1f22748a]{width:260px;-webkit-box-flex:0;flex:none;margin-left:20px}.side-block-container[data-v-1f22748a]{background:#fff;padding:20px;border-radius:4px;margin-bottom:20px}.side-title[data-v-1f22748a]{font-size:16px;margin-bottom:8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.side-wrap .category-title[data-v-1f22748a]{border-top:1px solid transparent;font-size:15px;height:50px;position:relative;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;color:#444}.side-wrap .category-title img[data-v-1f22748a]{width:25px;height:25px;position:absolute}.side-wrap .category-title span[data-v-1f22748a]{padding-left:28px;display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.ant-anchor-ink[data-v-1f22748a]:before{width:3px;background-color:#eee}.license-wrap[data-v-1f22748a]{position:relative;border:1px dashed #ccc;border-radius:5px;padding:13px 16px 8px;margin:50px 0 20px;font-size:14px}.end-wrap span[data-v-1f22748a],.license-wrap>span[data-v-1f22748a]{position:absolute;left:50%;top:-12px;-webkit-transform:translate(-50%);transform:translate(-50%);display:block;background:#fff;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.license-wrap>p[data-v-1f22748a]{margin-bottom:5px}.end-wrap[data-v-1f22748a]{position:relative;border-top:1px solid #ddd;margin:40px 0 70px}.sticky-wrap[data-v-1f22748a]{position:-webkit-sticky;position:sticky;top:90px}.article-views[data-v-1f22748a]{color:#666;font-size:14px;margin-top:20px}.article-views .split-line[data-v-1f22748a]{position:relative;top:-1px;color:#aaa}@media (max-width:890px){.side-wrap[data-v-1f22748a]{display:none}}@media (max-width:576px){.post-detail-wrap[data-v-1f22748a]{margin-top:15px}.content-wrap[data-v-1f22748a]{padding:15px}}",""]),t.exports=e},1913:function(t,e,n){"use strict";n.r(e);n(100),n(54);var o=n(18),r=n(7),c=n(4),l=n.n(c),d=(n(1298),n(1464)),h=n(1330),f=n(1329),v=r.default.extend({name:"PageArticle",components:{CommentList:d.a,PopArticles:h.a,ArticleContent:f.a},asyncData:function(t){var e=t.$axios,n=t.params,r=t.error;return Object(o.a)(regeneratorRuntime.mark((function t(){var o,c,code,article;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n.article,t.next=3,e.$get("/api/article",{params:{alias:o}});case 3:if(c=t.sent,code=c.code,article=c.data,1!==code||!article){t.next=10;break}return t.abrupt("return",{article:article});case 10:r({statusCode:404,message:"未找到该页面"});case 11:case"end":return t.stop()}}),t)})))()},data:function(){return{settings:this.$store.state.settings,article:{},menus:[],menuShow:!1,postsCount:0}},computed:{postLink:function(){return location.protocol+"//"+location.host+location.pathname},website:function(){return location.protocol+"//"+location.host},stickyCls:function(){return this.menuShow?{position:"sticky",top:"90px"}:{position:"relative"}},publishDate:function(){return l()(this.article.publishTime).format("YYYY-MM-DD")},showComments:function(){return 1===this.article.commentsFlag||-1!==this.article.commentsFlag&&this.settings.enableComments}},created:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,code,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/postsCountByCate",{params:{category:t.article.category._id}});case 2:n=e.sent,code=n.code,data=n.data,1===code&&(t.postsCount=data);case 6:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;this.scrollByHash(),window.addEventListener("hashchange",(function(){t.scrollByHash()})),this.generateMenu(),this.$axios.$put("/api/increaseViews",{postID:this.article._id})},methods:{generateMenu:function(){var t=[];document.querySelector(".article-content").querySelectorAll("h2").forEach((function(h2){var e=h2.querySelector("a");if(e){for(var n={href:"#".concat(e.id),title:h2.textContent,subs:[]},o=h2.nextElementSibling;o&&"H2"!==o.nodeName;){if("H3"===o.nodeName){var r=o.querySelector("a");r&&n.subs.push({href:"#".concat(r.id),title:o.textContent})}o=o.nextElementSibling}t.push(n)}})),t.length&&(this.menus=t,this.menuShow=!0)},scrollByHash:function(){var t="user-content-",e=decodeURIComponent(location.hash);if(e&&e.length>0&&(e=e.substring(1)),0===e.indexOf(t))history.replaceState(null,"",location.href.replace(/#.*/,"")+"#"+e.replace(t,""));else{var n=document.querySelector("#".concat(t).concat(e));n&&window.scrollTo(window.scrollX,n.getBoundingClientRect().top+window.scrollY-75)}}},head:function(){var article=this.article,content=article.html.replace(/<[^>]*>/g,"").replace(/\r?\n/g," "),desc=content.length>170?content.substring(0,170)+"...":content,t=article.title;article.labels&&article.labels.length&&(t+=","+article.labels.join(","));var e=" - ".concat(this.settings.blogName);return{title:article.title+e,meta:[{hid:"description",name:"description",content:desc},{name:"keywords",content:t}]}}}),m=(n(1898),n(19)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-detail-wrap"},[n("article",{staticClass:"left-wrap"},[n("div",{staticClass:"content-wrap"},[n("header",{staticClass:"article-title"},[n("h1",[t._v(t._s(t.article.title))])]),t._v(" "),n("main",{staticClass:"article-main"},[n("article-content",{attrs:{html:t.article.html}})],1),t._v(" "),t.settings.showLicense?n("div",{staticClass:"license-wrap"},[n("span",[t._v("【END】")]),t._v(" "),n("p",[t._v("本文链接："+t._s(t.postLink))]),t._v(" "),n("p",[n("span",[t._v("版权声明：本博客所有文章除声明转载外，均采用")]),t._v(" "),n("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh",target:"_blank"}},[t._v("BY-NC-SA 3.0")]),t._v(" "),n("span",[t._v("许可协议。转载请注明来自")]),t._v(" "),n("a",{attrs:{href:t.website}},[t._v(t._s(t.settings.blogName))]),t._v("。\n        ")])]):n("div",{staticClass:"end-wrap"},[n("span",[t._v("【END】")])]),t._v(" "),n("div",{staticClass:"article-views"},[n("span",[t._v("阅读 "+t._s(t.article.viewCount))]),t._v(" "),n("span",{staticClass:"split-line"},[t._v("|")]),t._v(" "),n("span",[t._v("发布于 "+t._s(t.publishDate))])])]),t._v(" "),t.showComments?n("comment-list",{attrs:{from:2,"article-id":t.article._id}}):t._e()],1),t._v(" "),n("aside",{staticClass:"side-wrap"},[n("div",{staticClass:"side-block-container"},[n("div",{staticClass:"side-title"},[t._v("\n        分类\n      ")]),t._v(" "),n("div",{staticClass:"category-title"},[n("img",{attrs:{src:t.article.category.img}}),t._v(" "),n("span",[t._v(t._s(t.article.category.cateName))])]),t._v(" "),n("nuxt-link",{staticClass:"ant-btn ant-btn-dashed",attrs:{to:"/blog/"+t.article.category.alias}},[t._v("\n        全部\n        "),n("span",{staticClass:"posts-count"},[t._v(t._s(t.postsCount))]),t._v("\n        篇文章\n      ")])],1),t._v(" "),n("div",{class:{"sticky-wrap":t.menuShow}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.menuShow,expression:"menuShow"}],staticClass:"side-block-container"},[n("div",{staticClass:"side-title"},[t._v("\n          目录\n        ")]),t._v(" "),n("a-anchor",{attrs:{affix:!1,"show-ink-in-fixed":!0,"offset-top":75,bounds:10}},t._l(t.menus,(function(e,o){return n("a-anchor-link",{key:o,attrs:{href:e.href,title:e.title}},t._l(e.subs,(function(t,e){return n("a-anchor-link",{key:e,attrs:{href:t.href,title:t.title}})})),1)})),1)],1),t._v(" "),n("pop-articles")],1)])])}),[],!1,null,"1f22748a",null);e.default=component.exports}}]);